### Fix --cref with V7 Models Bug - 2025-08-05_04-29-40

**Issue:** Using the '--cref' parameter with Midjourney version 7 models was failing to include the reference image in the final prompt.

**Root Cause:** The UI was correctly disabling the '--cref' input when V7 was selected, but the backend was not stripping the '--cref' parameter from the prompt before sending it to the GoAPI.

**Fix:**
1.  **Added Workaround in 'midjourney_integration/client.py'**:
    -   Updated the 'submit_imagine' method to check if the prompt contains both '--v 7' and '--cref'.
    -   If both are present, the method now removes the '--cref' parameter and its corresponding URL, as well as the '--cw' parameter and its value, from the prompt before sending it to the GoAPI.

**Outcome:** This change ensures that prompts sent to V7 models do not contain the unsupported '--cref' parameter, preventing the bug from occurring.
