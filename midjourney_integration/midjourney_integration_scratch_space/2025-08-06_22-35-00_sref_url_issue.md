# 2025-08-06 22:35:00 - Style Reference URL Issue

## Problem
When using `--sref` with a GCS URL from a split quadrant image, Midjourney fails with:
- Error code: 10000
- Message: "Invalid link\nTimeout while downloading this image"

## Failed URL Example
`https://storage.googleapis.com/bahroo_public/split/1b982630-c152-43f4-8d43-4f6f9982220f_quadrant_1.png`

## Observations
1. The URL is verified as publicly accessible (returns 200 OK)
2. The image prompt URL works fine (uploaded image)
3. Only the --sref parameter fails

## Potential Causes
1. **GCS CDN propagation delay** - Image might not be fully available globally
2. **Midjourney server restrictions** - Their servers might have issues accessing GCS
3. **URL encoding** - The URL might need special encoding
4. **Rate limiting** - GCS might be rate-limiting Midjourney's servers

## Potential Solutions
1. Add a delay after uploading before using the URL
2. Use a different storage service (e.g., Imgur, Cloudinary)
3. Try URL shortening service
4. Verify if --sref works with v7 (documentation says it might not)

## Next Steps
- Test if --sref works with other image hosting services
- Check if this is a v7 compatibility issue
- Add retry logic with exponential backoff
